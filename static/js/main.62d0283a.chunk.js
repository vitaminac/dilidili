(this.webpackJsonpdilidili=this.webpackJsonpdilidili||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return o}));var s="/dilidili",i={VIDEO:"/view",BANGUMI:"/bangumi",SEARCH:"/search"},n="/api",r={BANNER:"/banner",INDEX_RANK:"/top/",TOP_RANK:"/toprank",VIDEO_INFO:"/view/",VIDEO_URL:"/video/",SORT_VIDEOS:"/sort/",BANGUMI_INFO:"/bangumiinfo/",BANGUMI_INDEX:"/bangumiindex",BANGUMI_LIST:"/bangumi",SEARCH:"/search",SEARCH_BY_TYPE:"/searchbytype",GET_COMMENT:"http://comment.bilibili.cn/"},c=[24,33,31,20,17,36,119],o={1:"\u52a8\u753b",24:"MAD\xb7AMV",25:"MMD\xb73D",47:"\u77ed\u7247\xb7\u624b\u4e66\xb7\u914d\u97f3",27:"\u7efc\u5408",13:"\u756a\u5267",33:"\u8fde\u8f7d\u52a8\u753b",32:"\u5b8c\u7ed3\u52a8\u753b",152:"\u5b98\u65b9\u5ef6\u4f38",153:"\u56fd\u4ea7\u52a8\u753b",3:"\u97f3\u4e50",31:"\u7ffb\u5531",30:"VOCALOID\xb7UTAU",29:"\u4e09\u6b21\u5143\u97f3\u4e50",28:"\u540c\u4eba\u97f3\u4e50",54:"OP/ED/OST",130:"\u97f3\u4e50\u9009\u96c6",129:"\u821e\u8e48",20:"\u5b85\u821e",154:"\u4e09\u6b21\u5143\u821e\u8e48",156:"\u821e\u8e48\u6559\u7a0b",17:"\u5355\u673a\u8054\u673a",65:"\u7f51\u6e38\xb7\u7535\u7ade",136:"\u97f3\u6e38",19:"Mugen",121:"GMV",36:"\u79d1\u6280",37:"\u7eaa\u5f55\u7247",124:"\u8da3\u5473\u79d1\u666e\u4eba\u6587",122:"\u91ce\u751f\u6280\u672f\u534f\u4f1a",39:"\u6f14\u8bb2\xb7\u516c\u5f00\u8bfe",95:"\u6570\u7801",98:"\u673a\u68b0",163:"\u641e\u7b11",138:"\u751f\u6d3b",75:"\u52a8\u7269\u5708",76:"\u7f8e\u98df\u5708",71:"\u7efc\u827a",137:"\u5a31\u4e50\u5708",131:"Korea\u76f8\u5173",119:"\u9b3c\u755c",22:"\u9b3c\u755c\u8c03\u6559",126:"\u4eba\u529bVOCALOID",26:"\u97f3MAD",127:"\u6559\u7a0b\u6f14\u793a"}},115:function(e,t,a){"use strict";a.r(t);var s=a(25);s.a.plugin("hotkeys",(function(e){var t=this,a=t.el(),i=document,n={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,enableModifiersForNumbers:!0,playPauseKey:function(e){return 32===e.which||179===e.which},rewindKey:function(e){return 37===e.which||177===e.which},forwardKey:function(e){return 39===e.which||176===e.which},volumeUpKey:function(e){return 38===e.which},volumeDownKey:function(e){return 40===e.which},muteKey:function(e){return 77===e.which},fullscreenKey:function(e){return 70===e.which},customKeys:{}},r=s.a.mergeOptions||s.a.util.mergeOptions,c=(e=r(n,e||{})).volumeStep,o=e.seekStep,l=e.enableMute,d=e.enableVolumeScroll,h=e.enableFullscreen,u=e.enableNumbers,j=e.enableJogStyle,f=e.alwaysCaptureHotkeys,b=e.enableModifiersForNumbers;a.hasAttribute("tabIndex")||a.setAttribute("tabIndex","-1"),a.style.outline="none",!f&&t.autoplay()||t.one("play",(function(){a.focus()})),t.on("userinactive",(function(){var e=function(){clearTimeout(s)},s=setTimeout((function(){t.off("useractive",e),i.activeElement.parentElement==a.querySelector(".vjs-control-bar")&&a.focus()}),10);t.one("useractive",e)})),t.on("play",(function(){var e=a.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")}));var m=function(e){if(t.controls()){var s=e.relatedTarget||e.toElement||i.activeElement;if((f||s==a||s==a.querySelector(".vjs-tech")||s==a.querySelector(".iframeblocker")||s==a.querySelector(".vjs-control-bar"))&&d){e=window.event||e;var n=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));e.preventDefault(),1==n?t.volume(t.volume()+c):-1==n&&t.volume(t.volume()-c)}}},p=function(t,a){return e.playPauseKey(t,a)?1:e.rewindKey(t,a)?2:e.forwardKey(t,a)?3:e.volumeUpKey(t,a)?4:e.volumeDownKey(t,a)?5:e.muteKey(t,a)?6:e.fullscreenKey(t,a)?7:void 0};return t.on("keydown",(function(s){var n,r=s.which,d=s.preventDefault;if(t.controls()){var m=i.activeElement;if(f||m==a||m==a.querySelector(".vjs-tech")||m==a.querySelector(".vjs-control-bar")||m==a.querySelector(".iframeblocker"))switch(p(s,t)){case 1:d(),f&&s.stopPropagation(),t.paused()?t.play():t.pause();break;case 2:d(),n=t.currentTime()-o,t.currentTime()<=o&&(n=0),t.currentTime(n);break;case 3:d(),t.currentTime(t.currentTime()+o);break;case 5:d(),j?(n=t.currentTime()-1,t.currentTime()<=1&&(n=0),t.currentTime(n)):t.volume(t.volume()-c);break;case 4:d(),j?t.currentTime(t.currentTime()+1):t.volume(t.volume()+c);break;case 6:l&&t.muted(!t.muted());break;case 7:h&&(t.isFullscreen()?t.exitFullscreen():t.requestFullscreen());break;default:if((r>47&&r<59||r>95&&r<106)&&(b||!(s.metaKey||s.ctrlKey||s.altKey))&&u){var v=48;r>95&&(v=96);var O=r-v;d(),t.currentTime(t.duration()*O*.1)}for(var x in e.customKeys){var g=e.customKeys[x];g&&g.key&&g.handler&&g.key(s)&&(d(),g.handler(t,e))}}}})),t.on("dblclick",(function(e){if(t.controls()){var s=e.relatedTarget||e.toElement||i.activeElement;s!=a&&s!=a.querySelector(".vjs-tech")&&s!=a.querySelector(".iframeblocker")||h&&(t.isFullscreen()?t.exitFullscreen():t.requestFullscreen())}})),t.on("mousewheel",m),t.on("DOMMouseScroll",m),this}))},116:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var s,i=a(0),n=a(22),r=a.n(n),c=a(2),o=a.n(c),l=a(39),d=a.n(l),h=a(34),u=a(31),j=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,119)).then((function(t){var a=t.getCLS,s=t.getFID,i=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),i(e),n(e),r(e)}))},f=a(23),b=a(21);!function(e){e[e.TASK_INBOX=0]="TASK_INBOX",e[e.TASK_PINNED=1]="TASK_PINNED",e[e.TASK_ARCHIVED=2]="TASK_ARCHIVED"}(s||(s={}));var m=a(35),p=a(36),v=a.n(p),O=a(49),x=Object(f.b)("fetchHotVideos",Object(O.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",[{videoId:1,title:"\u53f2\u83b1\u59c6\u7684\u6545\u4e8b",cover:"https://i.imgur.com/nWvPmbU.jpg",uploader:"test",playCount:99},{videoId:2,title:"\u8718\u86db\u5b50\u7684\u6545\u4e8b",cover:"https://i.imgur.com/nkeAy9x.jpg",uploader:"test",playCount:80},{videoId:3,title:"Overload",cover:"https://i.imgur.com/e0XzYz8.jpg",uploader:"test",playCount:89},{videoId:4,title:"\u9f50\u6728\u6960\u96c4",cover:"https://i.imgur.com/YVr2Qj0.jpg",uploader:"test",playCount:72},{videoId:5,title:"\u7075\u80fd\u7206\u53d1",cover:"https://i.imgur.com/OlWclp1.jpg",uploader:"test",playCount:68},{videoId:6,title:"\u667a\u969c\u5973\u795e",cover:"https://i.imgur.com/Ll8itdv.jpg",uploader:"test",playCount:70},{videoId:0,title:"no debe mostrar",cover:"",uploader:"test",playCount:0}]);case 3:case"end":return e.stop()}}),e)})))),g=Object(f.b)("fetchBanners",Object(O.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve();case 2:return e.abrupt("return",[{url:"/videos/1",img:"https://i.imgur.com/hIV4zt8.jpg"},{url:"/videos/2",img:"https://i.imgur.com/nzpoxci.png"}]);case 3:case"end":return e.stop()}}),e)}))));function y(e){return function(t,a){return t.map((function(t){return t.id===a?Object(m.a)(Object(m.a)({},t),{},{state:e}):t}))}}var N=Object(f.c)({name:"tasks",initialState:[],reducers:{archiveTask:function(e,t){return y(s.TASK_ARCHIVED)(e,t.payload)},pinTask:function(e,t){return y(s.TASK_PINNED)(e,t.payload)}}}),k=Object(f.c)({name:"videos",initialState:{},reducers:{},extraReducers:function(e){e.addCase(x.fulfilled,(function(e,t){t.payload.forEach((function(t){return e[t.videoId]=t}))}))}}),_=Object(f.c)({name:"banners",initialState:[],reducers:{},extraReducers:function(e){e.addCase(g.fulfilled,(function(e,t){return e.concat(t.payload)}))}}),w={tasks:[],videos:{},banners:[]},C=Object(f.a)({reducer:Object(b.c)({tasks:N.reducer,videos:k.reducer,banners:_.reducer}),preloadedState:w,devTools:!1}),D=a(10),L=a(68),I=a(14),S=a(42),T=a.n(S);function P(){var e=Object(I.f)(),t=Object(c.useRef)(null),a=Object(c.useState)(""),s=Object(L.a)(a,2),n=s[0],r=s[1],o=Object(c.useCallback)((function(e){var a,s;window.pageYOffset>e?null===(a=t.current)||void 0===a||a.classList.add(T.a.sticky):null===(s=t.current)||void 0===s||s.classList.remove(T.a.sticky)}),[t]);return Object(c.useEffect)((function(){var e,a=null===(e=t.current)||void 0===e?void 0:e.offsetTop,s=function(){return o(a)};return window.addEventListener("scroll",s),function(){window.removeEventListener("scroll",s)}}),[o]),Object(i.jsx)("div",{id:"main-header",children:Object(i.jsxs)("div",{className:"main-header-nav",children:[Object(i.jsx)("div",{className:T.a.bg}),Object(i.jsx)("div",{className:"header-container",ref:t,children:Object(i.jsxs)("ul",{className:"main-header-nav-body",children:[Object(i.jsx)("li",{className:"nav-li floatleft now",children:Object(i.jsx)("a",{href:"/",children:"\u9996\u9875"})}),Object(i.jsxs)("li",{className:"nav-li floatleft",children:[Object(i.jsx)("a",{href:"/sort/1",children:"\u52a8\u753b"}),Object(i.jsxs)("div",{className:"nav-li-list",children:[Object(i.jsx)("a",{href:"/sort/24",children:"MAD\xb7AMV"}),Object(i.jsx)("a",{href:"/sort/25",children:"MMD\xb73D"}),Object(i.jsx)("a",{href:"/sort/47",children:"\u77ed\u7247\xb7\u624b\u4e66\xb7\u914d\u97f3"}),Object(i.jsx)("a",{href:"/sort/27",children:"\u7efc\u5408"})]})]}),Object(i.jsxs)("li",{className:"nav-li floatleft",children:[Object(i.jsx)("a",{href:"/bangumiindex",children:"\u756a\u5267"}),Object(i.jsxs)("div",{className:"nav-li-list",children:[Object(i.jsx)("a",{href:"/sort/33",children:"\u8fde\u8f7d\u52a8\u753b"}),Object(i.jsx)("a",{href:"/sort/32",children:"\u5b8c\u7ed3\u52a8\u753b"}),Object(i.jsx)("a",{href:"/sort/152",children:"\u5b98\u65b9\u5ef6\u4f38"}),Object(i.jsx)("a",{href:"/sort/153",children:"\u56fd\u4ea7\u52a8\u753b"})]})]}),Object(i.jsxs)("li",{className:"nav-li floatleft",children:[Object(i.jsx)("a",{href:"/sort/3",children:"\u97f3\u4e50"}),Object(i.jsxs)("div",{className:"nav-li-list",children:[Object(i.jsx)("a",{href:"/sort/31",children:"\u7ffb\u5531"}),Object(i.jsx)("a",{href:"/sort/30",children:"VOCALOID\xb7UTAU"}),Object(i.jsx)("a",{href:"/sort/29",children:"\u4e09\u6b21\u5143\u97f3\u4e50"}),Object(i.jsx)("a",{href:"/sort/28",children:"\u540c\u4eba\u97f3\u4e50"}),Object(i.jsx)("a",{href:"/sort/54",children:"OP/ED/OST"}),Object(i.jsx)("a",{href:"/sort/130",children:"\u97f3\u4e50\u9009\u96c6"})]})]}),Object(i.jsxs)("li",{className:"nav-li floatleft",children:[Object(i.jsx)("a",{href:"/sort/129",children:"\u821e\u8e48"}),Object(i.jsxs)("div",{className:"nav-li-list",children:[Object(i.jsx)("a",{href:"/sort/20",children:"\u5b85\u821e"}),Object(i.jsx)("a",{href:"/sort/154",children:"\u4e09\u6b21\u5143\u821e\u8e48"}),Object(i.jsx)("a",{href:"/sort/156",children:"\u821e\u8e48\u6559\u7a0b"})]})]}),Object(i.jsxs)("li",{className:"nav-li floatleft",children:[Object(i.jsx)("a",{href:"/sort/4",children:"\u6e38\u620f"}),Object(i.jsxs)("div",{className:"nav-li-list",children:[Object(i.jsx)("a",{href:"/sort/17",children:"\u5355\u673a\u8054\u673a"}),Object(i.jsx)("a",{href:"/sort/65",children:"\u7f51\u6e38\xb7\u7535\u7ade"}),Object(i.jsx)("a",{href:"/sort/136",children:"\u97f3\u6e38"}),Object(i.jsx)("a",{href:"/sort/19",children:"Mugen"}),Object(i.jsx)("a",{href:"/sort/121",children:"GMV"})]})]}),Object(i.jsxs)("li",{className:"nav-li floatleft",children:[Object(i.jsx)("a",{href:"/sort/36",children:"\u79d1\u6280"}),Object(i.jsxs)("div",{className:"nav-li-list",children:[Object(i.jsx)("a",{href:"/sort/37",children:"\u7eaa\u5f55\u7247"}),Object(i.jsx)("a",{href:"/sort/124",children:"\u8da3\u5473\u79d1\u666e\u4eba\u6587"}),Object(i.jsx)("a",{href:"/sort/122",children:"\u91ce\u751f\u6280\u672f\u534f\u4f1a"}),Object(i.jsx)("a",{href:"/sort/39",children:"\u6f14\u8bb2\xb7\u516c\u5f00\u8bfe"}),Object(i.jsx)("a",{href:"/sort/95",children:"\u6570\u7801"}),Object(i.jsx)("a",{href:"/sort/98",children:"\u673a\u68b0"})]})]}),Object(i.jsxs)("li",{className:"nav-li floatleft",children:[Object(i.jsx)("a",{href:"/sort/5",children:"\u5a31\u4e50"}),Object(i.jsxs)("div",{className:"nav-li-list",children:[Object(i.jsx)("a",{href:"/sort/153",children:"\u641e\u7b11"}),Object(i.jsx)("a",{href:"/sort/138",children:"\u751f\u6d3b"}),Object(i.jsx)("a",{href:"/sort/75",children:"\u52a8\u7269\u5708"}),Object(i.jsx)("a",{href:"/sort/76",children:"\u7f8e\u98df\u5708"}),Object(i.jsx)("a",{href:"/sort/71",children:"\u7efc\u827a"}),Object(i.jsx)("a",{href:"/sort/137",children:"\u5a31\u4e50\u5708"}),Object(i.jsx)("a",{href:"/sort/131",children:"Korea\u76f8\u5173"})]})]}),Object(i.jsxs)("li",{className:"nav-li floatleft",children:[Object(i.jsx)("a",{href:"/sort/119",children:"\u9b3c\u755c"}),Object(i.jsxs)("div",{className:"nav-li-list",children:[Object(i.jsx)("a",{href:"/sort/22",children:"\u9b3c\u755c\u8c03\u6559"}),Object(i.jsx)("a",{href:"/sort/26",children:"\u97f3MAD"}),Object(i.jsx)("a",{href:"/sort/126",children:"\u4eba\u529bVOCALOID"}),Object(i.jsx)("a",{href:"/sort/127",children:"\u6559\u7a0b\u6f14\u793a"})]})]}),Object(i.jsx)("div",{className:"header-search floatright",children:Object(i.jsxs)("form",{id:"search_form",onSubmit:function(){return e.push("/search/"+n)},children:[Object(i.jsx)("input",{name:"keyword",id:"search_content",placeholder:"\u8fd9\u91cc\u641c\u7d22",value:n,onChange:function(e){return r(e.target.value)}}),Object(i.jsx)("input",{type:"submit",value:"\u641c \u7d22",title:"\u641c\u7d22",className:"btn-search"})]})})]})})]})})}var M=a(43),E=a.n(M);function A(){return Object(i.jsx)("div",{id:"footer",children:Object(i.jsxs)("div",{className:"area-inner",children:[Object(i.jsxs)("div",{className:"about-block floatleft",children:[Object(i.jsxs)("div",{className:"about-item left floatleft",children:[Object(i.jsx)("div",{className:"about-title",children:"About"}),Object(i.jsxs)("div",{className:E.a.aboutLinks,children:[Object(i.jsx)("a",{href:"http://www.bilibili.com",children:"BiliBili\u5f39\u5e55\u89c6\u9891\u7f51"}),Object(i.jsx)("a",{href:"https://github.com/vitaminac/dilidili",children:"\u9879\u76ee\u5730\u5740"})]})]}),Object(i.jsxs)("div",{className:"about-item floatleft",children:[Object(i.jsx)("div",{className:"about-title",children:"Contact"}),Object(i.jsxs)("div",{className:E.a.aboutLinks,children:[Object(i.jsx)("a",{href:"https://vitaminac.github.io/",children:"Blog"}),Object(i.jsx)("a",{href:"https://github.com/vitaminac",children:"Github"})]})]}),Object(i.jsxs)("div",{className:"about-item right floatleft",children:[Object(i.jsx)("div",{className:"about-title",children:"Copyright"}),Object(i.jsx)("div",{className:E.a.aboutLinks,children:Object(i.jsx)("span",{children:"\xa9 1997-".concat((new Date).getFullYear())})})]})]}),Object(i.jsx)("div",{className:"clear"})]})})}a(84);var B=a(37),V=a.n(B),H=function(e){var t=e.children;return Object(i.jsxs)("div",{className:V.a.layout,children:[Object(i.jsx)("div",{className:V.a.header,children:Object(i.jsx)(P,{})}),Object(i.jsx)("div",{className:V.a.content,children:t}),Object(i.jsx)("div",{className:V.a.footer,children:Object(i.jsx)(A,{})})]})},K=a(5),U=a(6),Y=a(9),R=a(8),z=a(15),F=a.n(z),G=a(16),W=a(86),q=a(88),X=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=W.split(this.props.str,","),t=[];for(var a in e)t.push(Object(i.jsx)("li",{className:"floatleft",children:e[a]},a));return Object(i.jsxs)("ul",{className:"tags floatleft",children:[t,Object(i.jsx)("div",{className:"clear"})]})}}]),a}(o.a.Component);X.defaultProps={str:""};var J=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"area",children:Object(i.jsx)("div",{className:"video-info",children:Object(i.jsxs)("div",{className:"area-inner",children:[Object(i.jsxs)("div",{className:"left floatleft",children:[Object(i.jsx)("div",{className:"title",children:Object(i.jsx)("h1",{children:this.props.data.title})}),Object(i.jsxs)("div",{className:"info floatleft",children:[Object(i.jsxs)("div",{className:"info-text floatleft",children:["\u5206\u7c7b: ",this.props.data.typename]}),Object(i.jsxs)("div",{className:"info-text floatright",children:["\u65f6\u95f4: ",this.props.data.created_at]})]}),Object(i.jsx)("div",{className:"clear"}),Object(i.jsxs)("div",{className:"play-info floatleft",children:[Object(i.jsxs)("div",{className:"info-text floatleft",children:["\u64ad\u653e: ",this.props.data.play]}),Object(i.jsxs)("div",{className:"info-text floatleft",children:["\u5f39\u5e55: ",this.props.data.video_review]}),Object(i.jsxs)("div",{className:"info-text floatleft",children:["\u786c\u5e01: ",this.props.data.coins]})]}),Object(i.jsx)("div",{className:"clear"})]}),Object(i.jsxs)("div",{className:"right floatleft",children:[Object(i.jsx)("div",{className:"up-face floatleft",children:Object(i.jsx)("a",{href:"#",children:Object(i.jsx)("img",{src:this.props.data.face})})}),Object(i.jsxs)("div",{className:"up-info floatleft",children:[Object(i.jsx)("a",{href:"#",className:"title",children:this.props.data.author}),Object(i.jsxs)("div",{className:"brief",children:["\u6536\u85cf: ",this.props.data.favorites]})]})]}),Object(i.jsx)("div",{className:"clear"})]})})}),this.props.data.list?Object(i.jsx)(q,{parts:this.props.data.list,pic:this.props.data.pic}):Object(i.jsx)(G.a,{}),Object(i.jsx)("div",{className:"area",children:Object(i.jsx)("div",{className:"area-inner",children:Object(i.jsxs)("div",{className:"video-brief",children:[Object(i.jsx)(X,{str:this.props.data.tag}),Object(i.jsx)("div",{className:"clear"}),Object(i.jsx)("div",{className:"desc",children:this.props.data.description}),Object(i.jsxs)("div",{className:"comments",children:[Object(i.jsx)("span",{className:"label",children:"\u8bc4\u8bba"}),Object(i.jsx)("p",{children:"(\u65bd\u5de5\u4e2d)"})]})]})})})]})}}]),a}(o.a.Component);J.defaultProps={author:"",coins:"",created_at:"",description:"",face:"",favorites:"",list:{},mid:"",pages:1,pic:"",play:"",review:"",tag:"",tid:0,title:"",typename:"",video_review:""};var Q=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(e){var s;return Object(K.a)(this,a),(s=t.call(this,e)).state={videoInfo:{}},s}return Object(U.a)(a,[{key:"_loadData",value:function(){if(null!==this.props.aid){var e=this;F()({url:D.a+D.b.VIDEO_INFO+this.props.aid,type:"json",method:"get",crossOrigin:!0,error:function(e){console.log("error")},success:function(t){e.props.cb(t.title),e.setState({videoInfo:t})}})}}},{key:"componentDidMount",value:function(){this._loadData()}},{key:"render",value:function(){return Object(i.jsx)(J,{data:this.state.videoInfo})}}]),a}(o.a.Component);function Z(e){document.title="BH5 | "+e}Q.defaultProps={aid:null,cb:function(e){}};var ee=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"_pageChange",value:function(e){e<1&&(e=1),e>this.props.allPage&&(e=this.props.allPage),this.props.pageCallBack(e)}},{key:"render",value:function(){var e=this.props.nowPage-this.props.showPageCount/2;e<1&&(e=1);for(var t=[],a=0;a<this.props.showPageCount&&!(a>=this.props.allPage&&this.props.allPage>=0);a++){var s=e+a;s===this.props.nowPage?t.push(Object(i.jsx)("span",{className:"floatleft active",children:s},"pager-"+s)):t.push(Object(i.jsx)("span",{onClick:this._pageChange.bind(null,s),className:"floatleft",children:s},"pager-"+s))}return this.props.allPage<=1?Object(i.jsx)("div",{}):Object(i.jsxs)("div",{className:"area-pager",children:[Object(i.jsx)("span",{onClick:this._pageChange.bind(null,1),className:"floatleft",children:"\u9996\u9875"}),Object(i.jsx)("span",{onClick:this._pageChange.bind(null,this.props.nowPage-1),className:"floatleft",children:"\u4e0a\u4e00\u9875"}),t,Object(i.jsx)("span",{onClick:this._pageChange.bind(null,this.props.nowPage+1),className:"floatleft next",children:"\u4e0b\u4e00\u9875"})]})}}]),a}(o.a.Component);ee.defaultProps={nowPage:1,allPage:0,showPageCount:8,pageCallBack:function(e){}};var te=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=D.d.VIDEO+"/"+this.props.data.param;return Object(i.jsx)("div",{className:"video-item floatleft",children:Object(i.jsxs)("div",{className:"video-block-small",children:[Object(i.jsxs)("div",{className:"left floatleft",children:[Object(i.jsx)("a",{href:e,target:"_blank",children:Object(i.jsx)("div",{className:"thumb",children:Object(i.jsx)("img",{className:"lazy",src:this.props.data.cover})})}),Object(i.jsxs)("div",{className:"info floatleft",children:[Object(i.jsxs)("div",{className:"info-text floatleft",children:["\u64ad\u653e: ",this.props.data.play]}),Object(i.jsxs)("div",{className:"info-text floatright",children:["\u5f39\u5e55: ",this.props.data.danmaku]})]})]}),Object(i.jsxs)("div",{className:"right floatleft",children:[Object(i.jsx)("a",{href:e,target:"_blank",className:"title floatleft",children:this.props.data.title}),Object(i.jsxs)("a",{href:e,target:"_blank",className:"up floatleft",children:["up\u4e3b: ",this.props.data.name]})]})]})})}}]),a}(o.a.Component);te.defaultProps={data:{title:"",cover:"",param:"",name:"",play:"",reply:"",danmaku:"",favourite:""}};var ae=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=[];for(var t in this.props.videoList)"num"!=t&&e.push(Object(i.jsx)(te,{data:this.props.videoList[t]},"video-"+t));return Object(i.jsxs)("div",{className:"list-sort-block floatleft",children:[e,Object(i.jsx)("div",{className:"clear"})]})}}]),a}(o.a.Component);ae.defaultProps={videoList:[]};var se=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(e){var s;return Object(K.a)(this,a),(s=t.call(this,e))._page=1,s._order="view",s.state={videoList:[],allPage:0,title:"",loading:!0},s}return Object(U.a)(a,[{key:"_changeSort",value:function(e){this._order=e,this._page=1,this._loadData(this.props.tid)}},{key:"_changePage",value:function(e){r()("body,html").animate({scrollTop:0},700),this._page=e,this._loadData(this.props.tid)}},{key:"_loadData",value:function(e){this.setState({loading:!0});var t=this,a=D.f[e];F()({url:D.a+D.b.SORT_VIDEOS+e+"?page="+t._page+"&order="+this._order,type:"json",method:"get",crossOrigin:!0,error:function(e){console.log("error:"+e)},success:function(e){t.props.cb(a),t.setState({videoList:e,allPage:999,title:a,loading:!1})}})}},{key:"componentWillReceiveProps",value:function(e){this._loadData(e.tid)}},{key:"componentDidMount",value:function(){this._loadData(this.props.tid)}},{key:"render",value:function(){var e=this;return Object(i.jsxs)("div",{className:"sort-left floatleft",children:[Object(i.jsx)("div",{className:"banner",children:Object(i.jsx)("p",{children:this.state.title})}),Object(i.jsxs)("div",{className:"sort-tool-box floatleft",children:[Object(i.jsx)("a",{onClick:e._changeSort.bind(null,"view"),className:("hot"==this._order?"active":"")+" btn floatleft",children:"\u70b9\u51fb\u6570"}),Object(i.jsx)("a",{onClick:e._changeSort.bind(null,"senddate"),className:("default"==this._order?"active":"")+" btn floatleft",children:"\u53d1\u5e03\u65f6\u95f4"}),Object(i.jsx)("a",{onClick:e._changeSort.bind(null,"danmaku"),className:("damku"==this._order?"active":"")+" btn floatleft",children:"\u5f39\u5e55\u6570"})]}),this.state.loading?Object(i.jsx)(G.a,{}):Object(i.jsxs)("div",{children:[Object(i.jsx)(ae,{videoList:this.state.videoList}),Object(i.jsx)("div",{className:"clear"}),Object(i.jsx)(ee,{allPage:this.state.allPage,nowPage:this._page,pageCallBack:this._changePage})]})]})}}]),a}(o.a.Component);se.defaultProps={tid:0,cb:function(e){}};var ie=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=D.d.VIDEO+"/"+this.props.data.param;return Object(i.jsxs)("div",{className:"side-video-item",children:[Object(i.jsx)("div",{className:"left floatleft",children:Object(i.jsx)("img",{className:"lazy",src:this.props.data.cover})}),Object(i.jsxs)("div",{className:"right floatleft",children:[Object(i.jsx)("a",{href:e,target:"_blank",className:"title",children:this.props.data.title}),Object(i.jsx)("a",{href:e,target:"_blank",className:"up",children:this.props.data.name}),Object(i.jsxs)("div",{className:"info",children:[Object(i.jsxs)("div",{className:"info-text floatleft",children:["\u64ad\u653e: ",this.props.data.play]}),Object(i.jsxs)("div",{className:"info-text floatright",children:["\u5f39\u5e55: ",this.props.data.danmaku]})]})]})]})}}]),a}(o.a.Component);ie.defaultProps={title:"",cover:"",param:"",name:"",play:"",reply:"",danmaku:"",favourite:""};var ne=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(e){var s;return Object(K.a)(this,a),(s=t.call(this,e))._order="hot",s.state={videoList:[]},s}return Object(U.a)(a,[{key:"_loadData",value:function(){var e=this;F()({url:D.a+D.b.TOP_RANK,type:"json",method:"get",crossOrigin:!0,error:function(e){console.log("error")},success:function(t){e.setState({videoList:t})}})}},{key:"componentDidMount",value:function(){this._loadData()}},{key:"render",value:function(){var e=[];for(var t in this.state.videoList)"num"!=t&&e.push(Object(i.jsx)(ie,{data:this.state.videoList[t]},"hot-"+t));return Object(i.jsxs)("div",{className:"sort-right floatleft",children:[Object(i.jsx)("div",{className:"banner",children:Object(i.jsx)("p",{children:"\u70ed\u95e8\u6392\u884c"})}),Object(i.jsx)("div",{className:"side-video-list",children:e})]})}}]),a}(o.a.Component);function re(e){document.title="BH5 | \u5206\u7c7b:"+e}ne.defaultProps={tid:0};var ce=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){(new Date).setTime(1e3*this.props.data.pubdate);var e=D.d.VIDEO+"/"+this.props.data.param;return Object(i.jsxs)("div",{className:"search-video-block floatleft",children:[Object(i.jsx)("a",{href:e,target:"_blank",children:Object(i.jsxs)("div",{className:"img",children:[Object(i.jsx)("img",{src:this.props.data.cover}),Object(i.jsx)("span",{className:"time",children:this.props.data.duration})]})}),Object(i.jsxs)("div",{className:"other-info",children:[Object(i.jsx)("a",{href:e,target:"_blank",className:"title",children:this.props.data.title}),Object(i.jsxs)("div",{className:"info floatleft",children:[Object(i.jsxs)("div",{className:"info-text floatleft",children:["\u64ad\u653e: ",this.props.data.play]}),Object(i.jsxs)("div",{className:"info-text floatleft",children:[" ","\u5f39\u5e55\uff1a",this.props.data.danmaku]}),Object(i.jsxs)("div",{className:"info-text floatleft",children:["Up: ",this.props.data.author]})]})]})]})}}]),a}(o.a.Component);ce.defaultProps={data:{title:"",cover:"",param:"",desc:"",author:"",duration:"",play:0,danmaku:0}};var oe=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){(new Date).setTime(1e3*this.props.data.pubdate);return Object(i.jsxs)("div",{className:"search-video-block floatleft",children:[Object(i.jsx)("a",{href:"#",target:"_blank",children:Object(i.jsx)("div",{className:"img",children:Object(i.jsx)("img",{src:this.props.data.cover})})}),Object(i.jsxs)("div",{className:"other-info",children:[Object(i.jsx)("a",{href:"#",target:"_blank",className:"title",children:this.props.data.title}),Object(i.jsxs)("div",{className:"info floatleft",children:[Object(i.jsxs)("div",{className:"info-text floatleft",children:["\u7c89\u4e1d: ",this.props.data.fans]}),Object(i.jsx)("div",{className:"info-text floatleft",children:this.props.data.sign})]})]})]})}}]),a}(o.a.Component);oe.defaultProps={data:{title:"",cover:"",param:"",fans:"",sign:""}};var le=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"special-li floatleft",children:[Object(i.jsx)("div",{className:"img floatleft",children:Object(i.jsx)("img",{src:this.props.data.cover})}),Object(i.jsxs)("div",{className:"info floatleft",children:[Object(i.jsx)("a",{href:D.d.BANGUMI+"/"+this.props.data.param,target:"_blank",className:"title",children:this.props.data.title}),Object(i.jsx)("p",{className:"desc",children:this.props.data.cat_desc}),Object(i.jsx)("div",{className:"info",children:Object(i.jsxs)("div",{className:"info-text floatleft",children:["\u96c6\u6570: ",this.props.data.total_count]})})]})]})}}]),a}(o.a.Component);le.defaultProps={data:{title:"",cover:"",param:"",cat_desc:"",total_count:0}},(function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return Object(i.jsx)("div",{})}}]),a}(o.a.Component)).defaultProps={data:{arcurl:"",author:"",click:0,cover:"",description:"",favourite:0,keyword:"",mid:0,pubdate:0,review:0,title:"",tp_id:0,tp_type:0,update:0}},(function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"_handleClick",value:function(){var e=this.refs.search_content.value;this.props.searchCallBack(e)}},{key:"componentDidUpdate",value:function(e,t){this.refs.search_content.setAttribute("value",this.props.keyword)}},{key:"render",value:function(){return Object(i.jsxs)("div",{className:"search-block",children:[Object(i.jsx)("div",{className:"input-wrap floatleft",children:Object(i.jsx)("input",{name:"content",ref:"search_content",className:"search-content",placeholder:"\u8fd9\u91cc\u641c\u7d22"})}),Object(i.jsx)("div",{className:"search-btn floatleft",onClick:this._handleClick,children:Object(i.jsx)("span",{children:"\u641c\u7d22"})}),Object(i.jsx)("div",{className:"clear"})]})}}]),a}(o.a.Component)).defaultProps={keyword:"",searchCallBack:function(e){console.log(e)}};var de=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(e){var s;return Object(K.a)(this,a),(s=t.call(this,e))._searchType="video",s._page=1,s._order="totalrank",s._keyword="",s.state={list:[]},s}return Object(U.a)(a,[{key:"_loadData",value:function(){this.setState({loading:!0});var e=this;F()({url:D.a,type:"json",method:"get",data:{keyword:e._keyword,page_size:20,page:e._page,order:e._order},crossOrigin:!0,error:function(e){console.log("error:"+e)},success:function(t){e.props.cb(e._keyword),e.setState({list:t,all_page:500,loading:!1})}})}},{key:"_getSearch",value:function(e){this._keyword=e,this._loadData()}},{key:"_changeOrder",value:function(e){this._order=e,this._loadData()}},{key:"_changePage",value:function(e){this._page=e,this._loadData(),r()("body,html").animate({scrollTop:0},700)}},{key:"_changeType",value:function(e){this._searchType=e,this._page=1,this._loadData()}},{key:"getInitialState",value:function(){return{list:[],all_page:0,loading:!0}}},{key:"componentDidMount",value:function(){this._keyword=this.props.keyword,this._loadData()}},{key:"componentWillReceiveProps",value:function(e){this._keyword=e.keyword,this._loadData(),this.setState({loading:!0})}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.list.length;t++)switch(this._searchType){case"video":e.push(Object(i.jsx)(ce,{data:this.state.list[t]},"video-"+t));break;case"bangumi":e.push(Object(i.jsx)(le,{data:this.state.list[t]},"bangumi-"+t));break;case"user":e.push(Object(i.jsx)(oe,{data:this.state.list[t]},"user-"+t))}return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"search-info",children:[Object(i.jsxs)("div",{className:"search-select-block",children:[Object(i.jsxs)("ul",{className:"wrap floatleft",children:[Object(i.jsx)("li",{className:("video"===this._searchType?"active":"")+" sub floatleft",onClick:this._changeType.bind(null,"video"),children:"\u89c6\u9891"}),Object(i.jsx)("li",{className:("bangumi"===this._searchType?"active":"")+" sub floatleft",onClick:this._changeType.bind(null,"bangumi"),children:"\u756a\u5267"}),Object(i.jsx)("li",{className:("user"===this._searchType?"active":"")+" sub floatleft",onClick:this._changeType.bind(null,"user"),children:"UP\u4e3b"})]}),Object(i.jsx)("div",{className:"clear"})]}),"video"===this._searchType?Object(i.jsxs)("div",{className:"search-fliter-block",children:[Object(i.jsxs)("ul",{className:"wrap floatleft",children:[Object(i.jsx)("li",{onClick:this._changeOrder.bind(null,"totalrank"),className:("totalrank"===this._order?"active":"")+" sub floatleft",children:"\u7efc\u5408\u6392\u5e8f"}),Object(i.jsx)("li",{onClick:this._changeOrder.bind(null,"click"),className:("click"===this._order?"active":"")+" sub floatleft",children:"\u6700\u591a\u70b9\u51fb"}),Object(i.jsx)("li",{onClick:this._changeOrder.bind(null,"pubdate"),className:("pubdate"===this._order?"active":"")+" sub floatleft",children:"\u6700\u65b0\u53d1\u5e03"}),Object(i.jsx)("li",{onClick:this._changeOrder.bind(null,"dm"),className:("dm"===this._order?"active":"")+" sub floatleft",children:"\u5f39\u5e55"})]}),Object(i.jsx)("div",{className:"clear"})]}):Object(i.jsx)("div",{})]}),this.state.loading?Object(i.jsx)(G.a,{}):Object(i.jsx)("div",{className:"area",children:Object(i.jsxs)("div",{className:"search-result-content",children:[e,Object(i.jsx)("div",{className:"clear"}),Object(i.jsx)("div",{className:"search-pager",children:Object(i.jsx)(ee,{allPage:this.state.all_page,nowPage:this._page,pageCallBack:this._changePage})})]})})]})}}]),a}(o.a.Component);function he(e){document.title="BH5 | \u641c\u7d22:"+e}de.defaultProps={keyword:"",allPage:20,cb:function(e){}};var ue=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"special-li",children:[Object(i.jsx)("div",{className:"img floatleft",children:Object(i.jsx)("img",{src:this.props.data.cover})}),Object(i.jsxs)("div",{className:"info floatleft",children:[Object(i.jsx)("a",{href:D.d.BANGUMI+"/"+this.props.data.season_id,className:"title",children:this.props.data.title}),Object(i.jsxs)("div",{className:"info",children:[Object(i.jsxs)("div",{className:"info-text floatleft",children:["\u72b6\u6001: ","1"==this.props.data.is_finish?"\u5df2\u5b8c\u7ed3":"\u8fde\u8f7d\u4e2d"]}),Object(i.jsxs)("div",{className:"info-text floatleft",children:["\u96c6\u6570: ",this.props.data.total_count]})]})]})]})}}]),a}(o.a.Component);ue.defaultProps={data:{title:"",cover:"",is_finish:"",season_id:"",total_count:""}};var je=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(e){var s;return Object(K.a)(this,a),(s=t.call(this,e))._seasonId="",s.state={loading:!0,bagnumiInfo:null},s}return Object(U.a)(a,[{key:"_loadData",value:function(){var e=this;F()({url:D.a+D.b.BANGUMI_INFO+e._seasonId,type:"json",method:"get",data:{},crossOrigin:!0,error:function(e){console.log("error:"+e)},success:function(t){e.props.cb(t.title),e.setState({bangumiInfo:t,loading:!1})}})}},{key:"componentDidMount",value:function(){this._seasonId=this.props.seasonId,this._loadData()}},{key:"componentWillReceiveProps",value:function(e){this._seasonId=e.seasonId,this.setState({loading:!0}),this._loadData()}},{key:"render",value:function(){var e=[],t="",a=[];if(null!=this.state.bangumiInfo){for(var s=0;s<this.state.bangumiInfo.seasons.length;s++)e.push(Object(i.jsx)(ue,{data:this.state.bangumiInfo.seasons[s]},"bangumi-"+s));for(s=0;s<this.state.bangumiInfo.actor.length;s++)t+=this.state.bangumiInfo.actor[s].actor+"\u3001 ";for(s=0;s<this.state.bangumiInfo.episodes.length;s++)a.push(Object(i.jsx)("li",{className:"floatleft",children:Object(i.jsx)("a",{href:D.d.VIDEO+"/"+this.state.bangumiInfo.episodes[s].av_id,target:"_blank",children:Object(i.jsx)("span",{className:"bangumi-part-span",children:this.state.bangumiInfo.episodes[s].index+"."+this.state.bangumiInfo.episodes[s].index_title})})},"video-"+s))}return Object(i.jsx)("div",{children:this.state.loading?Object(i.jsx)(G.a,{}):Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"bangumi-header",children:[Object(i.jsx)("h2",{children:this.state.bangumiInfo.title}),Object(i.jsx)("div",{className:"bangumi-header-img",children:Object(i.jsx)("img",{src:this.state.bangumiInfo.cover})}),Object(i.jsxs)("div",{className:"bangumi-header-info",children:[Object(i.jsxs)("p",{children:["\u58f0\u4f18\uff1a",Object(i.jsx)("span",{children:t})]}),Object(i.jsx)("br",{}),Object(i.jsx)("p",{children:this.state.bangumiInfo.evaluate}),Object(i.jsx)("br",{}),Object(i.jsxs)("p",{children:["\u64ad\u653e\u6570\uff1a",Object(i.jsx)("span",{children:this.state.bangumiInfo.play_count})," | \u5f39\u5e55\u6570\uff1a",Object(i.jsx)("span",{children:this.state.bangumiInfo.danmaku_count})]})]})]}),Object(i.jsx)("div",{className:"bangumi-season",children:e}),Object(i.jsx)("div",{className:"clear"}),Object(i.jsxs)("div",{className:"bangumi-part",children:[Object(i.jsx)("p",{children:"\u5267\u96c6:"}),Object(i.jsx)("ul",{children:a}),Object(i.jsx)("div",{className:"clear"})]})]})})}}]),a}(o.a.Component);function fe(e){document.title="BH5 | \u756a\u5267:"+e}je.defaultProps={seasonId:0,cb:function(e){}};var be=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"_loadBanner",value:function(){r()(".block-banner").unslider({animation:"horizontal",autoplay:!0,arrows:!1,keys:!1})}},{key:"getDefaultProps",value:function(){return{list:[]}}},{key:"componentDidMount",value:function(){this._loadBanner()}},{key:"render",value:function(){for(var e=[],t=0;t<this.props.list.length;t++)e.push(Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:this.props.list[t].link,target:"_blank",children:Object(i.jsx)("img",{alt:this.props.list[t].title,src:this.props.list[t].img})})},"banner-li-"+t));return Object(i.jsx)("div",{className:"bangumi-banner-block",children:Object(i.jsx)("div",{className:"bangumi-banner block-banner",children:Object(i.jsx)("ul",{children:e})})})}}]),a}(o.a.Component),me=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=D.d.VIDEO+"/"+this.props.data.aid;return Object(i.jsxs)("div",{className:"video-block floatleft",children:[Object(i.jsx)("a",{href:e,className:"video-block-main",children:Object(i.jsx)("img",{src:this.props.data.pic})}),Object(i.jsx)("div",{className:"video-block-time",children:this.props.data.duration}),Object(i.jsxs)("a",{href:"#",className:"video-block-info",children:["\u6807\u9898: ",this.props.data.title,"UP\u4e3b: ",this.props.data.author]}),Object(i.jsxs)("div",{className:"video-block-info-hidden",children:[Object(i.jsxs)("div",{className:"left floatleft",children:["\u64ad\u653e: ",this.props.data.play]}),Object(i.jsxs)("div",{className:"right floatright",children:["\u5f39\u5e55: ",this.props.data.video_review]})]})]})}}]),a}(o.a.Component);me.defaultProps={data:{aid:"",author:"",coins:0,comment:0,create:"",description:"",duration:"",favorites:0,mid:0,pic:"",play:0,review:0,title:"",typeid:0,typename:"",video_review:0}};var pe=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"_loadData",value:function(){var e=this;F()({url:D.a+D.b.BANGUMI_INDEX,type:"json",method:"get",data:{},crossOrigin:!0,error:function(e){console.log("error:"+e)},success:function(t){e.setState({indexData:t,loading:!1})}})}},{key:"getInitialState",value:function(){return{loading:!0,indexData:null}}},{key:"componentDidMount",value:function(){this._loadData()}},{key:"render",value:function(){var e=[];if(null!=this.state.indexData)for(var t=0;t<this.state.indexData.recommends.length;t++)e.push(Object(i.jsx)(me,{data:this.state.indexData.recommends[t]},"video-li-"+t));return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"area",children:this.state.loading?Object(i.jsx)(G.a,{}):Object(i.jsx)(be,{list:this.state.indexData.banners})}),Object(i.jsx)("div",{className:"area",children:Object(i.jsxs)("div",{className:"area-inner",children:[Object(i.jsx)("div",{className:"area-banner",children:Object(i.jsx)("h2",{children:"\u89c6\u9891\u63a8\u8350"})}),this.state.loading?Object(i.jsx)(G.a,{}):Object(i.jsxs)("div",{className:"list-video-block",children:[e,Object(i.jsx)("div",{className:"clear"})]})]})})]})}}]),a}(o.a.Component),ve=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"getDefaultProps",value:function(){return{data:{title:"",cover:"",is_finish:"",season_id:"",attention:""}}}},{key:"render",value:function(){return Object(i.jsx)("a",{href:D.d.BANGUMI+"/"+this.props.data.season_id,target:"_blank",children:Object(i.jsxs)("div",{className:"bangumi_item floatleft",children:[Object(i.jsx)("div",{className:"img-small floatleft",children:Object(i.jsx)("img",{src:this.props.data.cover})}),Object(i.jsxs)("div",{className:"info floatleft",children:[Object(i.jsx)("p",{className:"title",children:this.props.data.title}),Object(i.jsxs)("p",{className:"other",children:["\u5173\u6ce8: ",this.props.data.attention]})]}),Object(i.jsx)("div",{className:"clear"})]})})}}]),a}(o.a.Component),Oe=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"_showMore",value:function(){r()(".list-bangumi-block").animate({maxHeight:"2800px"})}},{key:"_loadData",value:function(){var e=this;F()({url:D.a+D.b.BANGUMI_LIST,type:"json",method:"get",data:{},crossOrigin:!0,error:function(e){console.log("error:"+e)},success:function(t){e.setState({data:t})}})}},{key:"getInitialState",value:function(){return{data:null}}},{key:"componentDidMount",value:function(){this._loadData()}},{key:"render",value:function(){var e=[];if(null!=this.state.data)for(var t=0;t<this.state.data.list.length;t++)e.push(Object(i.jsx)(ve,{data:this.state.data.list[t]},"bangumi-"+t));return Object(i.jsx)("div",{className:"area",children:Object(i.jsxs)("div",{className:"area-inner",children:[Object(i.jsx)("div",{className:"area-banner",children:Object(i.jsx)("h2",{children:"\u756a\u5267\u5217\u8868"})}),Object(i.jsxs)("div",{className:"list-bangumi-block",children:[e,Object(i.jsx)("div",{className:"clear"})]}),Object(i.jsx)("div",{className:"toggle-btn",children:Object(i.jsx)("a",{className:"active_toggle",href:"javascript:void(0)",onClick:this._showMore,children:"\u663e\u793a/\u9690\u85cf"})})]})})}}]),a}(o.a.Component),xe=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"componentDidMount",value:function(){document.title="BH5 | \u756a\u5267"}},{key:"render",value:function(){return Object(i.jsxs)("div",{id:"main-container",children:[Object(i.jsx)(pe,{}),Object(i.jsx)(Oe,{})]})}}]),a}(o.a.Component),ge=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=D.d.VIDEO+"/"+this.props.data.param;return Object(i.jsxs)("div",{className:"video-block floatleft",children:[Object(i.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",className:"video-block-main",children:Object(i.jsx)("img",{src:this.props.data.cover,alt:"cover"})}),Object(i.jsxs)("div",{className:"video-block-time",children:["\u5f39\u5e55: ",this.props.data.danmaku]}),Object(i.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",className:"video-block-info",children:this.props.data.title}),Object(i.jsxs)("div",{className:"video-block-info-hidden",children:[Object(i.jsxs)("div",{className:"left floatleft",children:["\u64ad\u653e: ",this.props.data.play]}),Object(i.jsxs)("div",{className:"right floatright",children:["\u56de\u590d: ",this.props.data.reply]})]})]})}}]),a}(o.a.Component);ge.defaultProps={data:{title:"",cover:"",param:"",name:"",play:"",reply:"",danmaku:"",favourite:""}};var ye=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(e){var s;return Object(K.a)(this,a),(s=t.call(this,e)).state=s.getInitialState(),s}return Object(U.a)(a,[{key:"_loadData",value:function(e){var t=this,a=D.f[e];F()({url:D.a+D.b.INDEX_RANK+e,type:"json",method:"get",crossOrigin:!0,error:function(e){console.log("error")},success:function(e){t.setState({videoList:e.videos,labelName:a})}})}},{key:"getInitialState",value:function(){return{videoList:[],labelName:""}}},{key:"componentDidMount",value:function(){this._loadData(this.props.tid)}},{key:"render",value:function(){var e=[];for(var t in this.state.videoList)if(e.push(Object(i.jsx)(ge,{data:this.state.videoList[t]},t)),9===t)break;return Object(i.jsx)("div",{className:"area",children:Object(i.jsxs)("div",{className:"area-inner",children:[Object(i.jsxs)("div",{className:"area-banner",children:[Object(i.jsxs)("a",{className:"area-banner-ch",children:[Object(i.jsx)("h3",{children:this.state.labelName}),Object(i.jsx)("i",{className:"area-banner-line-left"})]}),Object(i.jsx)("i",{className:"area-banner-line-right"}),Object(i.jsx)("i",{className:"area-banner-line-circle"})]}),Object(i.jsx)("div",{className:"list-video-block floatleft",children:e}),Object(i.jsx)("div",{className:"clear"})]})})}}]),a}(o.a.Component),Ne=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){var e=[];for(var t in D.e){var a=D.e[t];e.push(Object(i.jsx)(ye,{tid:a},"list-"+a))}return Object(i.jsx)("div",{children:e})}}]),a}(o.a.Component),ke=a(40),_e=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return Object(i.jsx)("div",{className:"video-block-mask floatleft",children:Object(i.jsxs)(u.b,{to:D.d.VIDEO+"/"+this.props.videoId,children:[Object(i.jsx)("div",{className:"video-block-mask-preview",children:Object(i.jsx)("img",{alt:this.props.title,src:this.props.cover})}),Object(i.jsx)("div",{className:"video-block-mask-mask"}),Object(i.jsxs)("div",{className:"video-block-mask-info",children:[Object(i.jsx)("div",{className:"title",children:this.props.title}),Object(i.jsxs)("div",{className:"up",children:["up\u4e3b\uff1a",this.props.uploader]}),Object(i.jsxs)("div",{className:"play",children:["\u64ad\u653e\uff1a",this.props.playCount]})]})]})})}}]),a}(o.a.Component),we=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.props.loadVideosList()}},{key:"render",value:function(){return Object(i.jsx)(o.a.Fragment,{children:this.props.videos.slice(0,6).map((function(e,t){return Object(i.jsx)(_e,Object(m.a)({},e),t)}))})}}]),a}(o.a.Component),Ce=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"componentDidMount",value:function(){$((function(){$(".block-banner").unslider({animation:"horizontal",autoplay:!0,arrows:!1,keys:!1})}))}},{key:"render",value:function(){return Object(i.jsxs)("div",{className:"unslider-banner floatleft",children:[Object(i.jsx)("div",{className:"block-banner index-banner",ref:"index_banner",children:Object(i.jsx)("ul",{children:this.props.bannerList.map((function(e,t){return Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:e.url,children:Object(i.jsx)("img",{src:e.img,alt:"banner"})})},t)}))})}),Object(i.jsx)("div",{className:"clear"})]})}}]),a}(o.a.Component),De=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"componentDidMount",value:function(){this.props.loadBanners()}},{key:"render",value:function(){return 0!==this.props.banners.length?Object(i.jsx)(Ce,{bannerList:this.props.banners}):Object(i.jsx)("div",{})}}]),a}(o.a.Component),Le=Object(h.b)((function(e,t){return{videos:Object(ke.a)((function(e){return e.videos}),(function(e){return Object.values(e).sort((function(e,t){return t.playCount-e.playCount}))}))(e)}}),(function(e){return{loadVideosList:function(){return e(x())}}}))(we),Ie=Object(h.b)((function(e){return{banners:Object(ke.a)((function(e){return e.banners}),(function(e){return e}))(e)}}),(function(e){return{loadBanners:function(){return e(g())}}}))(De),Se=function(e){Object(Y.a)(a,e);var t=Object(R.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"componentDidMount",value:function(){document.title="BH5 | \u9996\u9875"}},{key:"render",value:function(){return Object(i.jsxs)("div",{id:"index-head-area",className:"area",children:[Object(i.jsxs)("div",{className:"area-inner",children:[Object(i.jsx)("div",{className:"left-block floatleft",children:Object(i.jsx)(Ie,{})}),Object(i.jsxs)("div",{className:"right-block floatleft",children:[Object(i.jsx)(Le,{}),Object(i.jsx)("div",{className:"clear"})]}),Object(i.jsx)("div",{className:"clear"})]}),Object(i.jsx)(Ne,{})]})}}]),a}(o.a.Component),Te=Object(i.jsxs)(I.c,{children:[Object(i.jsx)(I.a,{path:"/sort/:tid",component:function(){return Object(i.jsx)("div",{id:"main-container",children:Object(i.jsx)("div",{className:"area",children:Object(i.jsxs)("div",{className:"area-inner",children:[Object(i.jsx)(se,{cb:re,tid:this.props.params.tid}),Object(i.jsx)(ne,{}),Object(i.jsx)("div",{className:"clear"})]})})})}}),Object(i.jsx)(I.a,{path:D.d.VIDEO+"/:aid",component:function(){return Object(i.jsx)("div",{id:"main-container",className:"concat",children:Object(i.jsx)(Q,{cb:Z,aid:this.props.params.aid})})}}),Object(i.jsx)(I.a,{path:D.d.SEARCH+"/:keyword",component:function(){return Object(i.jsx)(de,{cb:he,keyword:this.props.match.params.keyword})}}),Object(i.jsx)(I.a,{path:D.d.BANGUMI+"/:seasonId",component:function(){return Object(i.jsx)("div",{id:"main-container",children:Object(i.jsx)(je,{cb:fe,seasonId:this.props.params.seasonId})})}}),Object(i.jsx)(I.a,{path:"/bangumiindex",component:xe}),Object(i.jsx)(I.a,{path:"/",component:Se})]});a(116);window.$=window.jQuery=r.a,d.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(h.a,{store:C,children:Object(i.jsx)(u.a,{basename:D.c,children:Object(i.jsx)(H,{children:Object(i.jsx)("div",{id:"main-container",className:"concat",children:Te})})})})}),document.getElementById("root")),j()},118:function(e,t,a){"use strict";a.r(t);var s=a(25),i=a(15),n=a.n(i),r=a(5),c=a(6),o=a(9),l=a(8),d=function(){function e(t,a){Object(r.a)(this,e),this.align=0,this.index=0,this.mode=1,this.stime=0,this.text="",this._size=20,this._color=16777215,this.control=!1,this._border=!1,this.lifeTime=4e3*t.options.global.scale,this.manager=t,a.hasOwnProperty("align")&&(this.align=a.align),a.hasOwnProperty("stime")&&(this.stime=a.stime),a.hasOwnProperty("text")&&(this.text=a.text),a.hasOwnProperty("mode")&&(this.mode=a.mode),a.hasOwnProperty("color")&&(this._color=a.color),a.hasOwnProperty("size")&&(this._size=a.size),a.hasOwnProperty("x")&&(this._x=a.x),a.hasOwnProperty("y")&&(this._y=a.y),a.hasOwnProperty("border")&&(this._border=a.border)}return Object(c.a)(e,[{key:"offsetX",value:function(e){if(null===e||void 0===e)return null!==this._x&&void 0!==this._x||(this.align%2===0?this._x=this.dom.offsetLeft-this.manager.stage.offsetLeft:this._x=this.manager.stage.offsetWidth-(this.dom.offsetLeft-this.manager.stage.offsetLeft+this.dom.offsetWidth)),this._x;this._x=e,this.align%2===0?this.dom.style.right=this._x+"px":this.dom.style.left=this._x+"px"}},{key:"offsetY",value:function(e){if(null===e||void 0===e)return null!==this._y&&void 0!==this._y||(this.align<2?this._y=this.dom.offsetTop:this._y=this.manager.stage.offsetHeight-(this.dom.offsetTop+this.dom.offsetHeight)),this._y;this._y=e,this.align<2?this.dom.style.top=this._y+"px":this.dom.style.top=this.manager.stage.offsetHeight-e-this.dom.offsetHeight+"px"}},{key:"Color",value:function(e){if(null===e||void 0===e)return this._color;this._color=e;var t=e.toString(16);0!==(t=t.length>=6?t:new Array(6-t.length+1).join("0")+t).indexOf("#")&&(t="#".concat(t)),this.dom.style.color=t,0===this._color&&(this.dom.className=this.manager.options.className+" rshadow")}},{key:"Width",value:function(e){if(null===e||void 0===e)return null!==this._width&&void 0!==this._width||(this._width=this.dom.offsetWidth),this._width;this._width=e,this.dom.style.width=this._width+"px"}},{key:"Height",value:function(e){if(null===e||void 0===e)return null!==this._height&&void 0!==this._height||(this._height=this.dom.offsetHeight),this._height;this._height=e,this.dom.style.height=this._height+"px"}},{key:"Size",value:function(e){if(null===e||void 0===e)return this._size;this._size=e,this.dom.style.fontSize=this._size+"px"}},{key:"Border",value:function(e){if(null===e||void 0===e)return this._border;this._border=e,this.dom.style.border=e}},{key:"init",value:function(){var e=document.createElement("div");e.className=this.manager.options.className,e.appendChild(document.createTextNode(this.text)),e.textContent=this.text,e.innerText=this.text,this.dom=e,this._border&&(e.style.border="2px solid red"),this.Color(this._color),this.Size(this._size)}},{key:"checkTime",value:function(e){return this.stime+this.lifeTime>=e}},{key:"layout",value:function(){}},{key:"stop",value:function(){}},{key:"start",value:function(){}}]),e}(),h=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e,s){var i;return Object(r.a)(this,a),(i=t.call(this,e,s)).align=4==i.mode?3:0,i}return Object(c.a)(a,[{key:"_findOffsetY",value:function(e,t,a){var s=a;for(var i in this.manager.nowLine){var n=this.manager.nowLine[i];if(n.mode===this.mode&&n.index===e){if(n.offsetY()-s>=t)return s;s=n.offsetY()+n.Height()}}return s+t<=this.manager.stage.offsetHeight?s:-1}},{key:"layout",value:function(){for(var e=0,t=this.Height()+2*this.manager.options.margin,a=0,s=-1;s<0;)s=this._findOffsetY(e,t,a),e++,a+=this.manager.options.indexOffset;this.index=e-1,this.offsetX(this.manager.stage.offsetLeft+(this.manager.stage.offsetWidth-this.Width())/2),this.offsetY(s)}}]),a}(d),u=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e,s){var i;switch(Object(r.a)(this,a),(i=t.call(this,e,s)).mode){case 1:i.align=0;break;case 2:i.align=2;break;case 6:i.align=1}return i.follow=!1,i.control=!0,i.lifeTime*=e.options.scroll.scale,i.moving=!1,i.timeOffset=700,i}return Object(c.a)(a,[{key:"layout",value:function(){for(var e=0,t=this.Size()+2*this.manager.options.margin,a=0,s=-1,i=this.Width();s<0;){if(e>1e3)return;s=this._findOffsetY(e,t,a),e++,a+=this.manager.options.indexOffset}this.index=e-1,this.offsetY(s),this.dom.style.right="-"+i+"px",this.dom.style.left="-"+i+"px",this.moveAnimation()}},{key:"_findOffsetY",value:function(e,t,a){for(var s,i=a,n=0;n<this.manager.nowLine.length;n++)if((s=this.manager.nowLine[n]).mode===this.mode&&s.index===e){if(s.offsetY()-i>=t)return i;if(!s.follow&&s.timeLeft<=.5*s.lifeTime)return s.follow=!0,s.offsetY();i=s.offsetY()+s.Height()}return i+t<=this.manager.stage.offsetHeight?i:-1}},{key:"transform",value:function(e){this.dom.style.transform=e,this.dom.style.webkitTransform=e,this.dom.style.msTransform=e,this.dom.style.oTransform=e}},{key:"moveTransform",value:function(){if(!this.moving){var e=-(this.manager.width+this.Width());this.transform("translateX("+e+"px)"),this.dom.style.transition="transform "+this.lifeTime+"ms linear",this.moving=!0}}},{key:"moveAnimation",value:function(){var e="cmt-move"+(this.align%2==0?"-left ":"-right ")+this.lifeTime/1e3+"s linear";this.dom.style.animation=e,this.dom.style["-webkit-animation"]=e,this.dom.style["-moz-animation"]=e,this.dom.style["-o-animation"]=e}},{key:"start",value:function(){this.dom.style["animation-play-state"]="running"}},{key:"stop",value:function(){this.dom.style["animation-play-state"]="paused"}},{key:"checkTime",value:function(e){return this.stime+this.lifeTime+this.timeOffset>=e}}]),a}(d),j=function(){function e(t){Object(r.a)(this,e),this.commentLine=[],this.nowLine=[],this.position=0,this.options={indexOffset:0,className:"cmt",margin:1,global:{opacity:1,scale:1},scroll:{opacity:1,scale:1},limit:0},this.stage=t,this.width=t.offsetWidth,this.height=t.offsetHeight}return Object(c.a)(e,[{key:"startTimer",value:function(){for(var e=0;e<this.nowLine.length;e++)this.nowLine[e].control&&this.nowLine[e].start()}},{key:"stopTimer",value:function(){for(var e=0;e<this.nowLine.length;e++)this.nowLine[e].control&&this.nowLine[e].stop()}},{key:"nowLinePush",value:function(e){if(0!==this.nowLine.length)if(this.nowLine[this.nowLine.length-1].offsetY()<=e.offsetY())this.nowLine.push(e);else if(this.nowLine[0].offsetY()>=e.offsetY())this.nowLine.unshift(e);else{for(var t=0,a=this.nowLine.length-1,s=0,i=0;t<a;){if(s=Math.floor((a+t+1)/2),this.nowLine[s-1].offsetY()<=e.offsetY()&&this.nowLine[s].offsetY()>=e.offsetY()){i=s;break}this.nowLine[s-1].offsetY()>e.offsetY()?a=s-1:t=s}this.nowLine.splice(i,0,e)}else this.nowLine.push(e)}},{key:"nowLineRemove",value:function(e){var t=this.nowLine.indexOf(e);t>=0&&this.nowLine.splice(t,1)}},{key:"setBounds",value:function(){this.width=this.stage.offsetWidth,this.height=this.stage.offsetHeight}},{key:"init",value:function(){this.setBounds(),this.position=0}},{key:"send",value:function(e){var t;if(5===e.mode||4===e.mode)t=new h(this,e);else{if(1!==e.mode&&2!==e.mode&&6!=e.mode)return void console.log("\u4e0d\u652f\u6301\u7684\u5f39\u5e55");t=new u(this,e)}t.init(),this.stage.appendChild(t.dom),t.layout(),this.nowLinePush(t)}},{key:"seek",value:function(e){this.position=0,this.position=this.locate(e)}},{key:"locate",value:function(e){for(var t=this.position;t<this.commentLine.length;t++){if(this.commentLine[t].stime>=e)return t}return this.commentLine.length}},{key:"time",value:function(e){if(0!==this.nowLine.length||this.position!==this.commentLine.length){if(e-=1,this.position<this.commentLine.length){for(var t=this.locate(e);this.position<t;this.position++)this.send(this.commentLine[this.position]);this.position=t}for(var a=this.nowLine.length,s=0;s<a;s++){var i=this.nowLine[s];i.checkTime(e)||(this.remove(i),a--)}}}},{key:"load",value:function(e){this.commentLine=e,this.position=0,this.commentLine.sort((function(e,t){return e.stime>=t.stime?1:-1}))}},{key:"remove",value:function(e){this.nowLineRemove(e),this.stage.removeChild(e.dom)}},{key:"clear",value:function(){for(;this.nowLine.length>0;)this.remove(this.nowLine[0])}}]),e}();s.a.plugin("initDanmaku",(function(){this.danmu=new function(e){var t=this;this.danmuDiv=document.createElement("div"),this.danmuDiv.className="vjs-danmu",e.el().insertBefore(this.danmuDiv,e.el().getElementsByClassName("vjs-poster")[0]),this.danmuShowControl=document.createElement("div"),this.danmuShowControl.className="vjs-danmu-control vjs-menu-button vjs-control",this.danmuShowControlContent=document.createElement("span"),this.danmuShowControlContent.className="vjs-danmu-switch",this.danmuShowControlContent.innerHTML="\u5f39\u5e55",this.danmuShowControl.appendChild(this.danmuShowControlContent),e.el().getElementsByClassName("vjs-control-bar")[0].appendChild(this.danmuShowControl),this.cmManager=new j(this.danmuDiv),this.cmManager.options.scroll.scale=3,this.cmManager.init(),this.cmManager.clear(),this.cmManager.display=!0;var a=e.el().children[0],s=0;return a.addEventListener("progress",(function(){s==a.currentTime?(a.hasStalled=!0,t.cmManager.stopTimer()):s=a.currentTime})),a.addEventListener("timeupdate",(function(){!1!==t.cmManager.display&&(a.hasStalled&&(t.cmManager.startTimer(),a.hasStalled=!1),t.cmManager.time(Math.floor(1e3*a.currentTime)))})),a.addEventListener("play",(function(){t.cmManager.startTimer()})),a.addEventListener("pause",(function(){t.cmManager.stopTimer()})),a.addEventListener("waiting",(function(){t.cmManager.stopTimer()})),a.addEventListener("playing",(function(){t.cmManager.startTimer()})),a.addEventListener("seeked",(function(){t.cmManager.seek(Math.floor(1e3*a.currentTime)),t.cmManager.clear()})),window&&window.addEventListener("resize",(function(){t.cmManager.setBounds()})),this.danmuShowControl.addEventListener("click",(function(){!0===t.cmManager.display?(t.cmManager.clear(),t.cmManager.display=!1,t.danmuShowControlContent.innerHTML="\u65e0"):(t.cmManager.display=!0,t.danmuShowControlContent.innerHTML="\u5f39\u5e55")})),this.load=function(e){n()({url:e,type:"xml",method:"get",crossOrigin:!0,error:function(e){console.log("error:",e)},success:function(e){null!=e&&t.cmManager.load(function(e){for(var t=e.getElementsByTagName("d"),a=[],s=0;s<t.length;s++)if(null!=t[s].getAttribute("p")){var i=t[s].getAttribute("p").split(",");if(!t[s].childNodes[0])continue;var n=t[s].childNodes[0].nodeValue,r={};r.stime=Math.round(1e3*parseFloat(i[0])),r.mode=parseInt(i[1]),r.size=parseInt(i[2]),r.color=parseInt(i[3]),r.date=parseInt(i[4]),r.pool=parseInt(i[5]),r.position="absolute",null!=i[7]&&(r.dbid=parseInt(i[7])),r.hash=i[6],r.border=!1,r.mode<7&&(r.text=n.replace(/(\/n|\\n|\n|\r\n)/g,"\n")),null!=r.text&&(r.text=r.text.replace(/\u25a0/g,"\u2588")),a.push(r)}return a}(e))}})},this}(this)}))},16:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var s=a(0);a(2);function i(){return Object(s.jsx)("div",{className:"loading-content",children:Object(s.jsx)("div",{className:"loading-pacman-block",children:Object(s.jsxs)("div",{className:"loader-inner pacman",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})})})}},37:function(e,t,a){e.exports={layout:"layout_layout__2VB0u",header:"layout_header__2JG5n",content:"layout_content__2DcUL",footer:"layout_footer__2wSbM"}},42:function(e,t,a){e.exports={bg:"Header_bg__3Euol",sticky:"Header_sticky__3Vdf1"}},43:function(e,t,a){e.exports={aboutLinks:"Footer_aboutLinks__2eSPj"}},84:function(e,t,a){},85:function(e,t){},88:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p}));var s=a(0),i=a(5),n=a(6),r=a(9),c=a(8),o=a(2),l=a.n(o),d=a(25),h=a(15),u=a.n(h),j=a(10),f=a(16);a(118),a(115);var b=null,m=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e))._player=null,s}return Object(n.a)(a,[{key:"_loadVideoJs",value:function(e,t){null!=b&&(b.dispose(),b=null),null==this._player?this._player=Object(d.a)("danmu_player",{controls:!0},(function(){this.initDanmaku(),this.hotkeys({volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!1,enableFullscreen:!0,enableNumbers:!1,alwaysCaptureHotkeys:!1}),this.danmu.load(e),this.src(t)})):(this._player.src(t),this._player.danmu.load(e))}},{key:"componentDidMount",value:function(){this._loadVideoJs(this.props.commentUrl,this.props.urlList.url)}},{key:"componentWillReceiveProps",value:function(e){null!=this._player&&this._loadVideoJs(e.commentUrl,e.urlList.url)}},{key:"componentWillUnmount",value:function(){b=this._player,this.player=null}},{key:"render",value:function(){return Object(s.jsx)("video",{id:"danmu_player",className:"video-js vjs-default-skin",controls:"true",preload:"auto",width:"980",height:"614",poster:this.props.pic,children:Object(s.jsx)("p",{className:"vjs-no-js",children:"\u6362\u6362\u6d4f\u89c8\u5668\u5427"})})}}]),a}(l.a.Component);m.defaultProps={url:"",pic:"",commentUrl:""};var p=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e))._cid=null,s._quality=4,s.state={loading:!0,data:null,nowPlay:"0"},s}return Object(n.a)(a,[{key:"_selectParts",value:function(e){var t=null;0!==this.props.parts.length&&(t=this.props.parts[e].cid),this._cid=t,this._loadVideoData(),this.setState({nowPlay:e})}},{key:"_loadVideoData",value:function(){if(this.setState({loading:!0}),null!==this._cid){var e=this;u()({url:j.a+j.b.VIDEO_URL+this._cid+"?quality="+this._quality,type:"json",method:"get",crossOrigin:!0,error:function(e){console.log("error")},success:function(t){e.setState({loading:!1,data:t})}})}}},{key:"componentDidMount",value:function(){this._selectParts("0")}},{key:"render",value:function(){var e=[],t="none";if(this.props.parts.hasOwnProperty("1")){for(var a in this.props.parts)if(this.props.parts.hasOwnProperty(a)){var i="";a===this.state.nowPlay&&(i="active"),e.push(Object(s.jsx)("span",{onClick:this._selectParts.bind(null,a),className:i+" floatleft",children:this.props.parts[a].part},"parts-"+a))}t="block"}var n=j.b.GET_COMMENT+this._cid+".xml";return Object(s.jsx)("div",{className:"area area-player",children:Object(s.jsxs)("div",{className:"area-inner",children:[Object(s.jsx)("div",{className:"video-part-select floatleft",style:{display:t},children:e}),Object(s.jsx)("div",{className:"clear"}),this.state.loading?Object(s.jsx)(f.a,{}):Object(s.jsx)(m,{urlList:this.state.data.durl[0],commentUrl:n,pic:this.props.pic})]})})}}]),a}(l.a.Component);p.defaultProps={parts:[],pic:""}},89:function(e,t){},96:function(e,t){}},[[117,1,2]]]);
//# sourceMappingURL=main.62d0283a.chunk.js.map